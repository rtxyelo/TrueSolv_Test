<template>
    <lightning-card title="Items">
        <div class="slds-p-around_small">
            <!-- Filters -->
            <lightning-combobox
                    label="Family"
                    value={selectedFamily}
                    options={familyOptions}
                    onchange={handleFamilyChange}>
            </lightning-combobox>

            <lightning-combobox
                    label="Type"
                    value={selectedType}
                    options={typeOptions}
                    onchange={handleTypeChange}>
            </lightning-combobox>

            <!-- Search -->
            <lightning-input
                    type="search"
                    label="Search"
                    placeholder="Search by Name or Description"
                    value={searchKey}
                    onchange={handleSearchChange}>
            </lightning-input>

            <!-- Item count -->
            <p class="slds-m-top_small">Items found: {itemsCount}</p>

            <!-- Items Grid -->
            <template if:true={items}>
                <div class="slds-grid slds-wrap">
                    <template for:each={items} for:item="item">
<!--                        <c-item-tile key={item.Id} item={item}></c-item-tile>-->
                        <c-item-tile key={item.Id} item={item} onshowdetails={handleShowDetails} onaddtocart={handleAddToCart} class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-3"></c-item-tile>
                    </template>
                </div>
            </template>
            <template if:true={isLoading}>
                <p>Loading...</p>
            </template>

            <template if:true={isDetailsModalOpen}>
                <c-item-details-modal
                        item={selectedItem}
                        onclose={handleCloseDetails}>
                </c-item-details-modal>
            </template>
        </div>
    </lightning-card>
</template>
